# Используем официальный образ Ubuntu в качестве основы для создания нашего контейнера
FROM ubuntu:latest

# Обновляем список пакетов и устанавливаем нужные зависимости
RUN apt-get update && apt-get install -y \
    # Утилита для запуска X11-приложений, таких как xeyes
    x11-apps \
    # Инструмент для управления аутентификацией X-серверов
    xauth \
    # Устанавливаем Java OpenJDK 11 для выполнения Java-приложений
    openjdk-11-jre \
    # Очистка временных файлов, чтобы уменьшить размер итогового образа
    && rm -rf /var/lib/apt/lists/*

# Настраиваем переменную окружения DISPLAY для вывода графического интерфейса
# Для Windows и macOS используется host.docker.internal для связи с хост-машиной
# ":0" указывает на основной экран X-сервера
ENV DISPLAY=host.docker.internal:0

# Копируем файл calc.jar из текущего каталога хоста в директорию /app контейнера
COPY calc.jar /app/calc.jar

# Устанавливаем рабочую директорию контейнера
WORKDIR /app

# Определяем команду по умолчанию для запуска контейнера
# Здесь запускаем Java-приложение calc.jar с помощью OpenJDK 11
CMD ["java", "-jar", "calc.jar"]
